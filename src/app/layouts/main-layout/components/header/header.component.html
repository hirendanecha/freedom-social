<header class="header-section w-100">
  <div class="container p-3">
    <nav class="navbar navbar-expand-lg justify-content-between w-100 p-0">
      <div class="left-area d-flex align-items-center gap-3">
        <a routerLink="/home" class="navbar-brand p-0 m-0">
          <img
            src="assets/images/icon.jpg"
            class="w-48-px h-48-px rounded-3"
            alt="logo"
          />
        </a>

        <div class="input-area h-48-px d-md-flex d-none align-items-center">
          <i class="material-symbols-outlined mat-icon me-1">search</i>
          <input
            type="text"
            name="search"
            placeholder="Search"
            [(ngModel)]="searchText"
            autocomplete="off"
            (keyup)="getUserList()"
          />
        </div>

        <ng-container *ngIf="searchText">
          <div #userSearchDropdownRef ngbDropdown>
            <div ngbDropdownMenu class="search-user-list">
              <ng-container *ngFor="let user of userList">
                <div
                  ngbDropdownItem
                  class="d-flex gap-3 pe-auto"
                  role="button"
                  (click)="openProfile(user.Id)"
                >
                  <img
                    loading="lazy"
                    class="w-32-px h-32-px rounded"
                    data-src="{{ user.ProfilePicName }}"
                    [alt]="user.Username"
                    onerror="this.onerror=null;this.src='/assets/images/avtar/placeholder-user.png';"
                  />
                  <span>{{ user.Username }}</span>
                </div>
              </ng-container>
            </div>
          </div>
        </ng-container>
      </div>

      <ul
        class="navbar-nav d-flex flex-row justify-content-around align-self-center ms-auto m-lg-auto gap-3 gap-xl-20 gap-lg-10 py-0"
      >
        <li>
          <a
            routerLink="/home"
            routerLinkActive="active"
            class="nav-icon home"
            data-toggle="tooltip"
            data-placement="bottom"
            title="Home"
            ><i class="mat-icon fs-xxl material-symbols-outlined mat-icon"
              >home</i
            ></a
          >
        </li>
        <li>
          <a
            routerLink="/research"
            routerLinkActive="active"
            class="nav-icon research"
            data-toggle="tooltip"
            data-placement="bottom"
            title="Research"
            ><i class="mat-icon fs-xxl material-symbols-outlined mat-icon"
              >feed</i
            ></a
          >
        </li>
        <li>
          <a
            href="https://freedom.social/cmpgm/daily"
            routerLinkActive="active"
            target="_blank"
            class="nav-icon"
            data-toggle="tooltip"
            data-placement="bottom"
            title="FreedomTube"
            ><i class="mat-icon fs-xxl material-symbols-outlined mat-icon"
              >smart_display</i
            ></a
          >
        </li>
      </ul>

      <div
        class="right-area d-lg-flex d-none justify-content-end align-items-center gap-6 cus-z p-0"
      >
        <div class="single-item">
          <div
            class="icon-area d-center position-relative"
            (click)="openNotificationsModal()"
          >
            <span
              *ngIf="sharedService.isNotify"
              class="abs-area position-absolute d-center smtxt"
            ></span>
            <i class="material-symbols-outlined mat-icon">notifications</i>
          </div>
        </div>

        <div class="single-item">
          <div
            class="icon-area d-center position-relative"
            (click)="openProfileMenuModal()"
          >
            <img
              class="w-100 h-100 rounded-3"
              loading="lazy"
              data-src="{{ sharedService?.userData?.ProfilePicName }}"
              onerror="this.onerror=null;this.src='/assets/images/avtar/placeholder-user.png';"
              alt="avatar"
            />
          </div>
        </div>
      </div>
    </nav>
  </div>
</header>
