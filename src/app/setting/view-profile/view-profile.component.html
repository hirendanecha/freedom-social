<div class="row profile-picture-area justify-content-center mb-15 mt-5">
  <div class="col-xl-12 col-lg-8">
    <div class="single-box p-5">
      <div class="col-md-12">
        <div class="upload-single cover-img">
          <div class="profile-picture position-relative text-start">
            <!-- src="/assets/images/profile-cover.png" -->
            <img
              [src]="
                customer.CoverPicName || '/assets/images/profile-cover.png'
              "
              class="preview-image w-100"
              onerror="this.onerror=null;this.src='/assets/images/profile-cover.png';"
              alt="Preview Image"
            />
          </div>
        </div>
        <div class="row mt-5">
          <div class="col-md-4 profile text-start d-flex align-items-center">
            <!-- src="/assets/images/avtar/avtar.png" -->
            <img
              class="preview-image w-100"
              loading="lazy"
              data-src="{{
                customer.ProfilePicName || '/assets/images/avtar/placeholder-user.png'
              }}"
              onerror="this.onerror=null;this.src='/assets/images/avtar/placeholder-user.png';"
              alt="Preview Image"
            />
            <div class="user-details ms-2">
              <h3>
                {{ customer?.FirstName || customer?.Username }}
                {{ customer?.LastName }}
              </h3>
              <!-- <h5 class="d-flex">
                <i class="material-symbols-outlined md m-0"> location_on </i>
                {{ customer.State }}
              </h5> -->
            </div>
          </div>
        </div>
        <div class="row mt-3">
          <div class="page-details">
            <ul class="nav mt-5 pt-4 flex-wrap gap-2 tab-area">
              <li class="nav-item" role="presentation" (click)="activeTab = 1">
                <a
                  class="nav-link d-center"
                  [ngClass]="activeTab === 1 ? 'active' : ''"
                  >Post</a
                >
              </li>
              <li class="nav-item" role="presentation" (click)="activeTab = 2">
                <a
                  class="nav-link d-center"
                  [ngClass]="activeTab === 2 ? 'active' : ''"
                  >About</a
                >
              </li>
              <li class="nav-item" role="presentation" (click)="activeTab = 3">
                <a
                  class="nav-link d-center"
                  [ngClass]="activeTab === 3 ? 'active' : ''"
                  >Photos</a
                >
              </li>
              <li
                class="nav-item"
                role="presentation"
                (click)="activeTab = 4; getCommunities()"
              >
                <a
                  class="nav-link d-center"
                  [ngClass]="activeTab === 4 ? 'active' : ''"
                  >Community</a
                >
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class="row justify-content-between">
      <div class="col-xl-8 col-xxl-8 col-12 justify-content-center">
        <ng-container *ngIf="activeTab === 1">
          <app-user-post [profileId]="profileId"></app-user-post>
        </ng-container>
        <ng-container *ngIf="activeTab === 2">
          <h3>Hello About</h3>
        </ng-container>
        <ng-container *ngIf="activeTab === 3">
          <h3>Hello Photos</h3>
        </ng-container>
        <ng-container *ngIf="activeTab === 4">
          <ng-container *ngIf="communityList.length; else noData">
            <h3>My Communities</h3>
            <div
              class="col-xl-4 col-sm-6"
              *ngFor="let community of communityList"
            >
              <div class="single-box p-5">
                <div class="avatar-box position-relative">
                  <img
                    class="avatar-img cover-img w-100"
                    [src]="community.coverImg"
                    alt="avatar"
                  />
                  <div
                    class="abs-area w-100 position-absolute top-0 p-3 d-center justify-content-end"
                  >
                    <div class="btn-group cus-dropdown dropend">
                      <div class="btn-group cus-dropdown">
                        <button
                          type="button"
                          class="dropdown-btn"
                          (click)="openDropDown(community.id)"
                        >
                          <i class="material-symbols-outlined fs-xxl m-0">
                            more_horiz
                          </i>
                        </button>
                        <ul
                          class="dropdown-menu p-4 pt-2 mt-6"
                          [ngClass]="communityId === community.id ? 'show' : ''"
                          (mouseleave)="communityId = null"
                        >
                          <li>
                            <a
                              class="droplist d-flex align-items-center gap-2"
                              (click)="communityId = null"
                            >
                              <i class="material-symbols-outlined mat-icon">
                                edit
                              </i>
                              <span>Edit</span>
                            </a>
                          </li>
                          <li>
                            <a
                              class="droplist d-flex align-items-center gap-2"
                              (click)="communityId = null"
                            >
                              <i class="material-symbols-outlined mat-icon">
                                delete
                              </i>
                              <span>Delete</span>
                            </a>
                          </li>
                        </ul>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="abs-avatar-item">
                  <img
                    class="avatar-img max-un"
                    [src]="community.logoImg"
                    alt="avatar"
                  />
                </div>
                <a
                  ><h6 class="m-0 mb-2 mt-3">
                    {{ community.CommunityName }}
                  </h6></a
                >
                <p class="smtxt public-group">
                  {{ community.CommunityDescription }}
                </p>
                <div class="friends-list d-center mt-3 gap-1 text-center">
                  <span class="smtxt m-0">{{ community.members }} Member</span>
                </div>
                <div class="d-center btn-border pt-5 gap-2 mt-4">
                  <button
                    class="cmn-btn alt third"
                    (click)="goToCommunityDetails(community.Id)"
                  >
                    View
                  </button>
                </div>
              </div>
            </div>
          </ng-container>
          <ng-template #noData>
            <div>
              <h3 class="text-center">No Communities</h3>
            </div>
          </ng-template>
        </ng-container>
      </div>
      <div class="col-xl-3 d-none d-xl-block justify-content-center">
        <!-- <app-my-list></app-my-list> -->
        <div class="cus-overflow cus-scrollbar sidebar-head d-lg-block d-none">
          <div class="cus-scrollbar side-wrapper">
            <div class="sidebar-wrapper d-flex flex-column gap-6">
              <div class="sidebar-area p-5">
                <div class="dashboard-img">
                  <img
                    class="w-100"
                    src="/assets/images/freedom-dashboard.png"
                  />
                  <span class="mt-3">
                    Get paid to Post, Reactions, Share and View and Refer family
                    and friends to Freedom!
                  </span>
                </div>
                <ul class="list-unstyled fs-11">
                  <!-- <li class="d-block m-0">All Time</li> -->
                  <li>
                    <span>Posts</span><br /><span class="posts_likes">3</span>
                  </li>
                  <li>
                    <span>Reactions</span><br /><span class="posts_likes"
                      >2</span
                    >
                  </li>
                  <li>
                    <span>Views</span><br /><span class="posts_likes"> 0</span>
                  </li>
                  <li>
                    <span>Comments</span><br /><span class="posts_likes"
                      >0</span
                    >
                  </li>
                  <li>
                    <span>Refferals</span><br /><span class="posts_likes"
                      >0</span
                    >
                  </li>
                </ul>
                <ul class="bg-gray-div list-unstyled fs-11">
                  <!-- <li class="d-block m-0">Monthly</li> -->
                  <li>
                    <span>Posts</span><br /><span class="posts_likes">0</span>
                  </li>
                  <li>
                    <span>Reactions</span><br /><span class="posts_likes"
                      >0</span
                    >
                  </li>
                  <li>
                    <span>Views</span><br /><span class="posts_likes">0</span>
                  </li>
                  <li>
                    <span>Comments</span><br /><span class="posts_likes"
                      >0</span
                    >
                  </li>
                  <li>
                    <span>Refferals</span><br /><span class="posts_likes"
                      >0</span
                    >
                  </li>
                </ul>
                <div class="amount-dashboard d-flex justify-content-around">
                  <span><img src="/assets/images/logo1776.png" /></span
                  ><span class="ml-2">0.8750 </span
                  ><span class="ml-4">3.50</span
                  ><span class="ml-2">(1776)</span>
                </div>
                <div class="dashboard-txt mt-2 mb-3 border p-2">
                  <span>
                    Dashboard only reflects 1776 earned by posting, liking, etc.
                    and does not reflect the 1776 Tokens in your offline wallet.
                  </span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
